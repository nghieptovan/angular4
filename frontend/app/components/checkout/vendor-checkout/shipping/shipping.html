<div class="cart-content">
    <div class="head-title-cart"><h2>Địa chỉ nhận hàng</h2></div>
    <div class="shipping-content">
        <div class="left-info">
            <div *ngIf="!isLoggedIn">
            <a (click)="login()" class="btn-login-2" title="Đăng nhập để đặt hàng">
                Đăng nhập để đặt hàng
            </a>
            </div>
            <form id="checkout-step-shipping" class="step-content" #customerForm="ngForm" (ngSubmit)="goToNextStep(customerForm)" novalidate>
                <div class="wrap-border " [ngClass]="{'checkout-address-form-list': isLoggedIn  }" >
                        <lt-vendor-checkout-address-form #shippingForm uid="shipping" (addressChange)="shippingAddress = $event" (validationChange)="isShippingAddressValid = $event;"></lt-vendor-checkout-address-form>
                </div>
                <div class="wrap-border ">
                    <div class="other-form-item" hidden>
                        <label class="checked-content">
                            Thông tin người đặt khác với người nhận hàng
                            <input type="checkbox" name="billing-address-same-as-shipping" [(ngModel)]="differentBillingAddress" id="billing-address-same-as-shipping-cashondelivery">
                            <span class="checkmark"></span>
                        </label>
                        <div class="form-inner" [hidden]="!differentBillingAddress">
                            <lt-vendor-checkout-address-form #billingForm uid="billing" (addressChange)="billingAddress = $event" (validationChange)="isBillingAddressValid = $event;"></lt-vendor-checkout-address-form>
                        </div>
                    </div>
                    <div class="other-form-item">
                        <label class="checked-content">
                            Yêu cầu xuất hoá đơn đỏ
                            <input id="vat-info-checbox" [(ngModel)]="vatInfo.vat_required" type="checkbox" name="company-info-select">
                            <span class="checkmark"></span>
                        </label>
                        <div class="form-inner form-shipping-address" *ngIf="vatInfo.vat_required">
                            <div class="form-row-lt">
                                <div class="form-col">
                                    <label class="form-label" [ngClass]="{'active focus-lt': vatCompanyName.focus || vatCompanyName.value, 'error-lt': vatCompanyName.invalid && (vatCompanyName.dirty || vatCompanyName.touched) && vatCompanyName?.errors.required }">
                                        <span class="form-text">Tên công ty</span>
                                        <input [ngClass]="{'mage-error': vatCompanyName.invalid && (vatCompanyName.dirty || vatCompanyName.touched) && vatCompanyName.errors.required}"
                                            maxlength="255" class="input-text" #vatCompanyName="ngModel" name="vatCompanyName"
                                            [(ngModel)]="vatInfo.vat_company_name" type="text" required
                                            (focus)="vatCompanyName.focus = true" (blur)="vatCompanyName.focus = false"
                                        >
                                    </label>
                                    <div class="mage-error" *ngIf="vatCompanyName.invalid && (vatCompanyName.dirty || vatCompanyName.touched) && vatCompanyName?.errors.required">
                                        Vui lòng nhập dữ liệu.
                                    </div>
                                </div>
                                <div class="form-col">
                                    <label class="form-label" [ngClass]="{'active focus-lt': vatCompanyAddress.focus || vatCompanyAddress.value, 'error-lt': vatCompanyAddress.invalid && (vatCompanyAddress.dirty || vatCompanyAddress.touched) && vatCompanyAddress?.errors.required }">
                                        <span class="form-text">Địa chỉ công ty</span>
                                        <input [ngClass]="{'mage-error': vatCompanyAddress.invalid && (vatCompanyAddress.dirty || vatCompanyAddress.touched) && vatCompanyAddress.errors.required}"
                                            maxlength="255" class="input-text" type="text" #vatCompanyAddress="ngModel"
                                            name="vatCompanyAddress" [(ngModel)]="vatInfo.vat_company_address" required
                                            (focus)="vatCompanyAddress.focus = true" (blur)="vatCompanyAddress.focus = false"
                                        >
                                    </label>
                                    <div class="mage-error" *ngIf="vatCompanyAddress.invalid && (vatCompanyAddress.dirty || vatCompanyAddress.touched) && vatCompanyAddress?.errors.required">
                                        Vui lòng nhập dữ liệu.
                                    </div>
                                </div>
                            </div>

                            <div class="form-row-lt">
                                <div class="form-col form-col-full">
                                    <label class="form-label" [ngClass]="{'active focus-lt': vatTaxCode.focus || vatTaxCode.value, 'error-lt': vatTaxCode.invalid && (vatTaxCode.dirty || vatTaxCode.touched) && vatTaxCode?.errors.required }">
                                        <span class="form-text">Mã số thuế</span>
                                        <input [ngClass]="{'mage-error': vatTaxCode.invalid && (vatTaxCode.dirty || vatTaxCode.touched) && (vatTaxCode.errors.required || vatTaxCode.errors.pattern)}"
                                            maxlength="255" class="input-text" type="text" #vatTaxCode="ngModel"
                                            name="vatTaxCode" [(ngModel)]="vatInfo.vat_company_taxcode" pattern="[\d]+"
                                            required
                                            (focus)="vatTaxCode.focus = true" (blur)="vatTaxCode.focus = false"
                                        >
                                    </label>
                                    <div class="mage-error" *ngIf="vatTaxCode.invalid && (vatTaxCode.dirty || vatTaxCode.touched) && vatTaxCode?.errors.required">Vui lòng nhập dữ liệu.</div>
                                    <div class="mage-error" *ngIf="vatTaxCode.invalid && (vatTaxCode.dirty || vatTaxCode.touched) && vatTaxCode?.errors.pattern">Vui lòng nhập số</div>
                                    <span class="note-txt">
                                        Lưu ý: Mỗi nhà cung cấp chỉ xuất hóa đơn tài chính cho đơn hàng có giá trị từ 200,000VND
                                    </span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <input type="submit" class="button action continue primary large btn-continue checkout hidden" hidden>


            </form>
        </div>
    </div>
</div>
<lt-vendor-checkout-sidebar uid="shipping"></lt-vendor-checkout-sidebar>




